{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["import  axios from \"axios\";\naxios.defaults.baseURL = 'https://pixabay.com';\n\nexport default async function getImagesByQuery(query, page) {\n\n  const reply = await axios.get('/api/', {\n    params: {\n      key: '41896213-148f054eadfc6d224b6c8f8ef',\n      q: query,\n      image_type: 'photo',\n      orientation: 'horizontal',\n      page: page,\n      per_page: 15,\n      safesearch: true,\n    },\n  });\n\n  return reply.data;\n}","import SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\nconst galleryItemLarge = new SimpleLightbox('.gallery a', {\n  animationSpeed: 350,\n  captionsData: 'alt',\n  captionDelay: 150,\n  widthRatio: 0.9,\n});\n\nexport function createGallery(images) {\n  const markup = images\n    .map(\n      image => `<li class=\"gallery-item\">\n      <a href=\"${image.largeImageURL}\">\n        <img class=\"gallery-image\" src=\"${image.webformatURL}\" alt=\"${image.tags}\">\n        <ul class=\"photo-details\">\n          <li>\n            <p>Likes</p>\n            <p>${image.likes}</p>\n          </li>\n          <li>\n            <p>Views</p>\n            <p>${image.views}</p>\n          </li>\n          <li>\n            <p>Comments</p>\n            <p>${image.comments}</p>\n          </li>\n          <li>\n            <p>Downloads</p>\n            <p>${image.downloads}</p>\n          </li>\n        </ul>\n      </a>\n    </li>`\n    )\n    .join('');\n\n  document.querySelector('ul.gallery').insertAdjacentHTML('beforeend', markup);\n  galleryItemLarge.refresh();\n}\n\nexport function clearGallery() {\n  document.querySelector('ul.gallery').innerHTML = '';\n}\n\nexport function showLoader() {\n  document.querySelector('.loader').classList.add('js-loader');\n}\n\nexport function hideLoader() {\n  document.querySelector('.loader').classList.remove('js-loader');\n}\n\nexport function showLoadMoreButton() {\n  document.querySelector('.js-load-more').classList.add('load-more-btn');\n}\n\nexport function hideLoadMoreButton() {\n  document.querySelector('.js-load-more').classList.remove('load-more-btn');\n}","import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport 'modern-normalize/modern-normalize.css';\nimport getImagesByQuery from './js/pixabay-api';\nimport * as rendered from './js/render-functions';\n\nconst closeSVGLink = new URL('./img/x-octagon.svg', import.meta.url).href;\nconst form = document.querySelector('.form');\nlet meaning = '';\n\nform.addEventListener('submit', e => {\n  e.preventDefault();\n  meaning = form.elements['search-text'].value.trim();\n  if (meaning === '') {\n    return iziToast.warning({\n      backgroundColor: 'orange',\n      message:\n        'Sorry, there is nothing provided here to look for. Please try again!',\n      messageColor: '#fafafa',\n      messageSize: '16px',\n      messageLineHeight: 1.5,\n      position: 'topLeft',\n    });\n  }\n\n  rendered.clearGallery();\n  rendered.showLoader();\n\n  getImagesByQuery(meaning)\n    .then(reply => {\n      rendered.hideLoader();\n      form.elements['search-text'].value = '';\n      if (reply.hits.length === 0) {\n        return iziToast.error({\n          backgroundColor: '#ef4040',\n          class: 'error-message',\n          message:\n            'Sorry, there are no images matching your search query. Please try again!',\n          messageColor: '#fafafb',\n          messageSize: '16px',\n          messageLineHeight: 1.5,\n          position: 'topRight',\n          iconUrl: closeSVGLink,\n        });\n      }\n\n      rendered.createGallery(reply.hits);\n    })\n    .catch(error => {\n      console.log(error);\n    });\n});"],"names":["axios","getImagesByQuery","query","page","galleryItemLarge","SimpleLightbox","createGallery","images","markup","image","clearGallery","showLoader","hideLoader","closeSVGLink","form","meaning","e","iziToast","rendered.clearGallery","rendered.showLoader","reply","rendered.hideLoader","rendered.createGallery","error"],"mappings":"owBACAA,EAAM,SAAS,QAAU,sBAEV,eAAeC,EAAiBC,EAAOC,EAAM,CAc1D,OAZc,MAAMH,EAAM,IAAI,QAAS,CACrC,OAAQ,CACN,IAAK,qCACL,EAAGE,EACH,WAAY,QACZ,YAAa,aACb,KAAMC,EACN,SAAU,GACV,WAAY,EACb,CACL,CAAG,GAEY,IACf,CCfA,MAAMC,EAAmB,IAAIC,EAAe,aAAc,CACxD,eAAgB,IAChB,aAAc,MACd,aAAc,IACd,WAAY,EACd,CAAC,EAEM,SAASC,EAAcC,EAAQ,CACpC,MAAMC,EAASD,EACZ,IACCE,GAAS;AAAA,iBACEA,EAAM,aAAa;AAAA,0CACMA,EAAM,YAAY,UAAUA,EAAM,IAAI;AAAA;AAAA;AAAA;AAAA,iBAI/DA,EAAM,KAAK;AAAA;AAAA;AAAA;AAAA,iBAIXA,EAAM,KAAK;AAAA;AAAA;AAAA;AAAA,iBAIXA,EAAM,QAAQ;AAAA;AAAA;AAAA;AAAA,iBAIdA,EAAM,SAAS;AAAA;AAAA;AAAA;AAAA,UAK3B,EACA,KAAK,EAAE,EAEV,SAAS,cAAc,YAAY,EAAE,mBAAmB,YAAaD,CAAM,EAC3EJ,EAAiB,QAAO,CAC1B,CAEO,SAASM,GAAe,CAC7B,SAAS,cAAc,YAAY,EAAE,UAAY,EACnD,CAEO,SAASC,GAAa,CAC3B,SAAS,cAAc,SAAS,EAAE,UAAU,IAAI,WAAW,CAC7D,CAEO,SAASC,GAAa,CAC3B,SAAS,cAAc,SAAS,EAAE,UAAU,OAAO,WAAW,CAChE,CC/CA,MAAMC,EAAe,IAA+C,IAAA,sBAAA,YAAA,GAAA,EAAC,KAC/DC,EAAO,SAAS,cAAc,OAAO,EAC3C,IAAIC,EAAU,GAEdD,EAAK,iBAAiB,SAAUE,GAAK,CAGnC,GAFAA,EAAE,eAAc,EAChBD,EAAUD,EAAK,SAAS,aAAa,EAAE,MAAM,OACzCC,IAAY,GACd,OAAOE,EAAS,QAAQ,CACtB,gBAAiB,SACjB,QACE,uEACF,aAAc,UACd,YAAa,OACb,kBAAmB,IACnB,SAAU,SAChB,CAAK,EAGHC,IACAC,IAEAlB,EAAiBc,CAAO,EACrB,KAAKK,GAAS,CAGb,GAFAC,IACAP,EAAK,SAAS,aAAa,EAAE,MAAQ,GACjCM,EAAM,KAAK,SAAW,EACxB,OAAOH,EAAS,MAAM,CACpB,gBAAiB,UACjB,MAAO,gBACP,QACE,2EACF,aAAc,UACd,YAAa,OACb,kBAAmB,IACnB,SAAU,WACV,QAASJ,CACnB,CAAS,EAGHS,EAAuBF,EAAM,IAAI,CACvC,CAAK,EACA,MAAMG,GAAS,CACd,QAAQ,IAAIA,CAAK,CACvB,CAAK,CACL,CAAC"}